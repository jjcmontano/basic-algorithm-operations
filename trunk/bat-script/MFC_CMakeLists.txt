cmake_minimum_required (VERSION 2.8)
PROJECT( MFC_HELLO )

ADD_DEFINITIONS(-D_AFXDLL)
SET(CMAKE_MFC_FLAG 2)

FILE(TO_CMAKE_PATH "$ENV{MSSdk}" PLATFORM_SDK_HOME)
message(PLATFORM_SDK_HOME=${PLATFORM_SDK_HOME})

IF(EXISTS "${PLATFORM_SDK_HOME}")
  include_directories("${PLATFORM_SDK_HOME}/Include")
	LINK_DIRECTORIES("${PLATFORM_SDK_HOME}/Lib")
ENDIF(EXISTS "${PLATFORM_SDK_HOME}")

aux_source_directory( ${PROJECT_SOURCE_DIR}  SRC_LIST)
set(SRC_LIST
  ${SRC_LIST}
  ${PROJECT_SOURCE_DIR}/mfc_cmake1.rc
)
message(SRC_LIST=${SRC_LIST})


ADD_EXECUTABLE(MFC_HELLO WIN32 ${SRC_LIST})

